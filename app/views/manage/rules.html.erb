<h2>Manage Rules</h2>

<%= form_tag('/rules', :method => "post") %>

<h3>Select month</h3>

<p><%= select_tag "month", options_for_select(["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], @current_ruleset.month) %>
</p>

<h3>Select valid game types</h3>

<p>
<%=
	if @current_ruleset.rengo == true
		check_box_tag 'rengo', true, true
	else
		check_box_tag 'rengo', true
	end %>Rengo<br />
<%=
	if @current_ruleset.teaching == true
		check_box_tag 'teaching', true, true
	else
		check_box_tag 'teaching', true
	end %>Teaching<br />
<%=
	if @current_ruleset.review == true
		check_box_tag 'review', true, true
	else
		check_box_tag 'review', true
	end %>Review<br />
<%=
	if @current_ruleset.demonstration == true
		check_box_tag 'demonstration', true, true
	else
		check_box_tag 'demonstration', true
	end %>Demonstration<br />
<%=
	if @current_ruleset.rated == true
		check_box_tag 'rated', true, true
	else
		check_box_tag 'rated', true
	end %>Rated<br />
<%=
	if @current_ruleset.free == true
		check_box_tag 'free', true, true
	else
		check_box_tag 'free', true
	end %>Free
</p>

<p>Check division membership:</p>

<p>
	<% if @current_ruleset.division_boolean == true %>
		<%= radio_button_tag 'division_boolean', true, :checked => true %>True<br />
		<%= radio_button_tag 'division_boolean', false %>False
	<% else %>
		<%= radio_button_tag 'division_boolean', true %>True<br />
		<%= radio_button_tag 'division_boolean', false, :checked => true %>False		
	<% end %>
</p>

<h3>Tag definition</h3>

<p>Tag position (enter a game move # between 1 and 300):</p>

<p><%= number_field_tag('tag_pos', @current_ruleset.tag_pos, :min => "1", :max => "300")%></p>

<p>Tag phrase:</p>

<p><%= text_field_tag('tag_phrase', @current_ruleset.tag_phrase) %></p>

<p>Tag required:</p>

<p>
<% if @current_ruleset.tag_boolean == true %>
	<%= radio_button_tag 'tag_boolean', true, :checked => true %>True<br />
	<%= radio_button_tag 'tag_boolean', false %>False
<% else %>
	<%= radio_button_tag 'tag_boolean', true %>True<br />
	<%= radio_button_tag 'tag_boolean', false, :checked => true %>False		
<% end %>
</p>

<h3>Time settings</h3>

<p>Time systems:</p>
<p><%= select_tag "time_system", options_for_select(["None", "Absolute", "Byo-Yomi", "Canadian"], @current_ruleset.time_system), :multiple => true %>
</p>

<p>Main time required (i.e., whether game must have time settings at all):</p>
<p>
<% if @current_ruleset.main_time_boolean == true %>
	<%= radio_button_tag 'main_time_boolean', true, :checked => true %>True<br />
	<%= radio_button_tag 'main_time_boolean', false %>False
<% else %>
	<%= radio_button_tag 'main_time_boolean', true %>True<br />
	<%= radio_button_tag 'main_time_boolean', false, :checked => true %>False		
<% end %>
</p>

<p>Main time (in seconds):</p>
<p><%= number_field_tag('main_time',  @current_ruleset.main_time, :min => "1")%></p>

<p>Overtime required (if set to true, absolute time games will not be permitted):</p>

<p>
<% if @current_ruleset.ot_boolean == true %>
	<%= radio_button_tag 'ot_boolean', true, :checked => true %>True<br />
	<%= radio_button_tag 'ot_boolean', false %>False
<% else %>
	<%= radio_button_tag 'ot_boolean', true %>True<br />
	<%= radio_button_tag 'ot_boolean', false, :checked => true %>False		
<% end %>
</p>

<p>Byo_yomi:</p>

<p>
<%= number_field_tag('byo_yomi_periods',  @current_ruleset.byo_yomi_periods, :min => "1", :max => "50")%>Byo-yomi periods (min 1, max 50)<br />
<%= number_field_tag('byo_yomi_seconds', @current_ruleset.byo_yomi_seconds, :min => "1", :max => "360")%>Byo-yomi seconds (min 1, max 360)
</p>

<p>Canadian:</p>

<p>
<%= number_field_tag('canadian_stones',  @current_ruleset.canadian_stones)%>Byo-yomi periods (min 1, max 50)<br />
<%= number_field_tag('canadian_time', @current_ruleset.canadian_time)%>Byo-yomi seconds (min 1, max 360)
</p>

<p>Ruleset:</p>

<p><%= select_tag "ruleset", options_for_select(["Japanese", "Canadian", "AGA", "New Zealand"], @current_ruleset.ruleset), :multiple => true %>
</p>

<p>Ruleset(s) required:</p>

<p>
	<% if @current_ruleset.ruleset_boolean == true %>
		<%= radio_button_tag 'ruleset_boolean', true, :checked => true %>True<br />
		<%= radio_button_tag 'ruleset_boolean', false %>False
	<% else %>
		<%= radio_button_tag 'ruleset_boolean', true %>True<br />
		<%= radio_button_tag 'ruleset_boolean', false, :checked => true %>False		
	<% end %>

</p>

<h3>Handicap settings</h3>

<p>Komi:</p>
<p><%= number_field_tag('komi', @current_ruleset.komi, :min => "0.5") %></p>

<p>Komi required:</p>

<p>
	<% if @current_ruleset.komi_boolean == true %>
		<%= radio_button_tag 'komi_boolean', true, :checked => true %>True<br />
		<%= radio_button_tag 'komi_boolean', false %>False
	<% else %>
		<%= radio_button_tag 'komi_boolean', true %>True<br />
		<%= radio_button_tag 'komi_boolean', false, :checked => true %>False		
	<% end %>
</p>

<p>Handicap (0-9):</p>
<p><%= number_field_tag('handicap', @current_ruleset.handicap, :min => "0", :max => "9") %></p>
<p>Handicap required:</p>

<p>
	<% if @current_ruleset.handicap_boolean == true %>
		<%= radio_button_tag 'handicap_boolean', true, :checked => true %>True<br />
		<%= radio_button_tag 'handicap_boolean', false %>False
	<% else %>
		<%= radio_button_tag 'handicap_boolean', true %>True<br />
		<%= radio_button_tag 'handicap_boolean', false, :checked => true %>False		
	<% end %>
</p>

<h3>Board size</h3>
<p><%= select_tag "board_size", options_for_select([19, 13, 9], @current_ruleset.board_size), :multiple => true %>
</p>

<h3>Point settings</h3>
<p>Note: multiply these values by the number of games played. For example, if you set points per win to 2, then the first win will be worth 2 points, the second 1 (n * # of games played)</p>
<p>Points per win:</p>
<p><%= number_field_tag('points_per_win', @current_ruleset.points_per_win, :min => 0) %></p>
<p>Points per loss:</p>
<p><%= number_field_tag('points_per_loss', @current_ruleset.points_per_loss, :min => 0, :step => 0.5) %></p>
<p>Max number of matches:</p>
<p><%= number_field_tag('max_games', @current_ruleset.max_games, :min => 1) %></p>
<%= submit_tag "Submit", :class => "submit" %>